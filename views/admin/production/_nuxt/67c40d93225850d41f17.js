(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{199:function(t,e,c){"use strict";c.r(e);c(23);var r={name:"currency",props:["currency"],computed:{c:function(){return this.currency},accounts:function(){var t=this;return this.$store.state.objects.WsAccounts.filter(function(e){return e.account.currency.id===t.c.id})}}},n=c(22),o={name:"currency",components:{Currency:Object(n.a)(r,function(){var t=this,e=t.$createElement,c=t._self._c||e;return c("v-card",[c("v-layout",[c("v-flex",{attrs:{md12:""}},[c("v-card-title",[c("span",[t._v("\n        "+t._s(t.c.name)+"\n      ")]),t._v(" "),c("v-spacer"),t._v(" "),t.c.active?c("span",{staticClass:"light-green--text darken-3"},[t._v("\n      активно\n    ")]):c("span",{staticClass:"deep-orange--text darken-1"},[t._v("деактивировано")])],1)],1)],1),t._v(" "),c("v-card-title",[c("v-spacer"),t._v(" "),c("span",[c("v-chip",{attrs:{small:""}},[t._v(t._s(1==t.c.type?"Фиат":"Криптовалюта"))]),t._v(" "),2==t.c.type?c("v-chip",{attrs:{small:""}},[t._v("Смартконтракт")]):t._e()],1)],1),t._v(" "),c("v-card-text",[c("v-list",{attrs:{dense:""}},[c("v-list-tile",[c("v-list-tile-content",[t._v("Активных счетов")]),t._v(" "),c("v-list-tile-content",{staticClass:"align-end"},[t._v(t._s(t.accounts.length))])],1)],1)],1)],1)},[],!1,null,"648769a3",null).exports},data:function(){return{addDialog:!1,contract:{address:"0x0",name:"",symbol:"",decimal:18,accept:!1,active:!0,errors:{}}}},computed:{currencies:function(){return this.$store.state.objects.currencies}},methods:{addCurrency:function(){this.contract.errors={address:[],name:[],symbol:[],accept:[]};var t=0;if(this.contract.address.length<5&&(this.contract.errors.address.push("Задайте адрес контракта"),t+=1),this.contract.name.length<3&&(this.contract.errors.name.push("Задайте имя контракта"),t+=1),this.contract.symbol.length<2&&(this.contract.errors.symbol.push("Задайте символ валюты"),t+=1),0==t){if(!this.contract.accept)return void this.contract.errors.accept.push("Подтвердите данные и добавление");this.$axios.post("/_v1-a/create_currency",{object:{contractId:this.contract.address,name:this.contract.name,symbol:this.contract.symbol.toUpperCase(),type:2,decimal:18,active:this.contract.active}}).then(function(t){console.log(t.data)})}}}},l=Object(n.a)(o,function(){var t=this,e=t.$createElement,c=t._self._c||e;return c("v-container",[c("v-dialog",{attrs:{width:"800"},model:{value:t.addDialog,callback:function(e){t.addDialog=e},expression:"addDialog"}},[c("v-card",[c("v-card-title",{staticClass:"headline green lighten-2",attrs:{"primary-title":""}},[c("span",[t._v("Добавление контракта")]),t._v(" "),c("v-spacer"),t._v(" "),c("span",{staticClass:"caption"},[c("v-checkbox",{attrs:{color:"red",label:t.contract.active?"Активен":"Не активен"},model:{value:t.contract.active,callback:function(e){t.$set(t.contract,"active",e)},expression:"contract.active"}})],1)],1),t._v(" "),c("v-card-text",[c("v-list",{attrs:{"three-line":""}},[c("v-list-tile",[c("v-list-tile-content",[t._v("Адрес контракта")]),t._v(" "),c("v-list-tile-content",[c("v-container",{attrs:{"grid-list-md":""}},[c("v-flex",{attrs:{md12:""}},[c("v-text-field",{attrs:{"error-messages":t.contract.errors.address},model:{value:t.contract.address,callback:function(e){t.$set(t.contract,"address",e)},expression:"contract.address"}})],1)],1)],1)],1),t._v(" "),c("v-list-tile",[c("v-list-tile-content",[t._v("Название валюты")]),t._v(" "),c("v-list-tile-content",[c("v-container",{attrs:{"grid-list-md":""}},[c("v-flex",{attrs:{md12:""}},[c("v-text-field",{attrs:{"error-messages":t.contract.errors.name},model:{value:t.contract.name,callback:function(e){t.$set(t.contract,"name",e)},expression:"contract.name"}})],1)],1)],1)],1),t._v(" "),c("v-list-tile",[c("v-list-tile-content",[t._v("Символ валюты")]),t._v(" "),c("v-list-tile-content",[c("v-container",{attrs:{"grid-list-md":""}},[c("v-flex",{attrs:{md12:""}},[c("v-text-field",{attrs:{"error-messages":t.contract.errors.symbol},model:{value:t.contract.symbol,callback:function(e){t.$set(t.contract,"symbol",e)},expression:"contract.symbol"}})],1)],1)],1)],1),t._v(" "),c("v-list-tile",[c("v-list-tile-content",[t._v("Разрядность")]),t._v(" "),c("v-list-tile-content",[c("v-container",{attrs:{"grid-list-md":""}},[c("v-flex",{attrs:{md12:""}},[c("v-text-field",{attrs:{"error-messages":t.contract.errors.decimal},model:{value:t.contract.decimal,callback:function(e){t.$set(t.contract,"decimal",e)},expression:"contract.decimal"}})],1)],1)],1)],1),t._v(" "),c("v-list-tile",[c("v-list-tile-content",[t._v("Подтвердите введенные данные")]),t._v(" "),c("v-list-tile-avatar",[c("v-checkbox",{attrs:{"error-messages":t.contract.errors.accept},model:{value:t.contract.accept,callback:function(e){t.$set(t.contract,"accept",e)},expression:"contract.accept"}})],1)],1)],1)],1),t._v(" "),c("v-card-actions",[c("v-spacer"),t._v(" "),c("v-btn",{attrs:{flat:"",color:"orange"},on:{click:t.addCurrency}},[t._v("Добавить")])],1)],1)],1),t._v(" "),c("v-layout",{attrs:{row:""}},[c("v-flex",{staticClass:"text-md-right",attrs:{md12:""}},[c("v-btn",{staticClass:"ma-0",attrs:{color:"success"},on:{click:function(e){t.addDialog=!0}}},[t._v("Добавить")])],1)],1),t._v(" "),c("v-layout",{staticClass:"mt-5",attrs:{wrap:""}},t._l(t.currencies,function(t){return c("v-flex",{key:t.id,staticClass:"pr-1 pt-1",attrs:{md4:""}},[c("Currency",{attrs:{currency:t}})],1)}),1)],1)},[],!1,null,"0da2a592",null);e.default=l.exports}}]);