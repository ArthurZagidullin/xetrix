(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{189:function(t,e,r){"use strict";var n={name:"simple",props:["order"],computed:{wsaccs:function(){return this.$store.state.objects.WsAccounts},id:function(){return this.order.id},buyerId:function(){return this.$auth.user.id},send:function(){var t=this,e=this.wsaccs.filter(function(a){return a.account.currency.symbol===t.to})[0];return!!e.account&&e.account.Address},receive:function(){var t=this,e=this.wsaccs.filter(function(a){return a.account.currency.symbol===t.from})[0];return!!e.account&&e.account.Address},from:function(){return this.order.sellCurrencySymbol},to:function(){return this.order.buyCurrencySymbol},available:function(){return this.order.available},price:function(){return this.order.price},query:function(){var q={};return q.orderId=this.id,q.sendingAddress=this.send,q.receiveAddress=this.receive,q.buyerId=this.buyerId,q.amount=this.amount,!!(!!q.amount<=this.available&&q.orderId&&q.sendingAddress&&q.receiveAddress&&q.orderId&&q.buyerId)&&q}},data:function(){return{amount:0}},methods:{buy:function(){if(this.query){this.$axios.post("/_v1/create_contract",this.query).catch(function(t){console.log(t)})}}}},c=r(22),o={name:"order",props:["order"],components:{ContractSimpleForm:Object(c.a)(n,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{staticClass:"pa-0",attrs:{fluid:""}},[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{md6:""}},[r("v-text-field",{attrs:{solo:""},model:{value:t.amount,callback:function(e){t.amount=e},expression:"amount"}})],1),t._v(" "),r("v-flex",{attrs:{md4:""}},[r("v-btn",{staticStyle:{height:"30px",width:"30px"},attrs:{small:"",fab:"",color:"white"},on:{click:t.buy}},[r("v-icon",[t._v("add")])],1)],1)],1)],1)},[],!1,null,"43ee2ebe",null).exports},computed:{isUser:function(){return this.order.ownerId===this.$auth.user.id},from:function(){return this.order.sellCurrencySymbol},to:function(){return this.order.buyCurrencySymbol},available:function(){return this.order.available},price:function(){return this.order.price}}},l=Object(c.a)(o,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-card",[r("v-layout",{attrs:{row:"","justify-space-between":""}},[r("v-flex",{staticClass:"grey white--text",attrs:{md3:""}},[r("v-card-title",[r("span",{staticClass:"title"},[t._v("Ордер")])])],1),t._v(" "),r("v-flex",{attrs:{md5:""}},[r("v-card-title",[r("v-layout",{attrs:{row:"","justify-space-between":""}},[r("v-flex",{attrs:{md2:""}},[r("p",{staticClass:"ma-0 text-xs-center"},[r("span",{staticClass:"title"},[t._v(t._s(t.available))]),t._v(" "),r("span",{staticClass:"subheading"},[t._v(t._s(t.from))])])]),t._v(" "),r("v-flex",{attrs:{md1:""}},[r("p",{staticClass:"text-xs-center ma-0"},[r("span",{staticClass:"title"},[t._v("по")])])]),t._v(" "),r("v-flex",{attrs:{md2:""}},[r("p",{staticClass:"ma-0 text-xs-center"},[r("span",{staticClass:"title"},[t._v(t._s(t.price))]),t._v(" "),r("span",{staticClass:"subheading"},[t._v(t._s(t.to))])])])],1)],1)],1),t._v(" "),t.isUser?r("v-flex",{staticClass:"green white--text",attrs:{md2:""}},[r("v-card-title",{staticClass:"text-xs-right"},[r("p",{staticClass:"text-md-right ma-0"},[r("v-icon",[t._v("person")])],1)])],1):r("v-flex",{staticClass:"orange white--text",attrs:{md2:""}},[t.available>0?[r("v-card-title",{staticClass:"text-xs-right"},[r("p",{staticClass:"text-md-right ma-0"},[t._v("\n              Купить "+t._s(t.from)+"\n            ")])]),t._v(" "),r("v-card-title",[r("ContractSimpleForm",{attrs:{order:t.order}})],1)]:t._e()],2)],1)],1)},[],!1,null,"1178bba0",null);e.a=l.exports},204:function(t,e,r){"use strict";r.r(e);var n={name:"orders",components:[r(189).a],data:function(){return{}},computed:{orders:function(){return this.$store.state.objects.orders}}},c=r(22),component=Object(c.a)(n,function(){var t=this.$createElement;return(this._self._c||t)("div")},[],!1,null,"13859b4c",null);e.default=component.exports}}]);