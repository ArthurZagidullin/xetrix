(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{197:function(t,e,n){"use strict";n.r(e);var l,r=n(92),o=(l={name:"transactions",props:["txs","base","perform","light"],computed:{},data:function(){return{headers:[{text:"TXID",align:"right",value:"id"},{text:"FROM",align:"right",value:"fromAddress"},{text:"TO",align:"right",value:"toAddress"},{text:"TIME",align:"right",value:"createdAt"},{text:"AMOUNT",value:"amount",align:"right"},{text:"REASON",value:"reason",align:"right"},{text:"STATUS",value:"status",align:"right"}]}}},Object(r.a)(l,"computed",{}),Object(r.a)(l,"methods",{isBase:function(t){return t===this.base},toDate:function(t){var a=new Date(1e3*t),e=a.getFullYear(),n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][a.getMonth()];return a.getDate()+" "+n+" "+e+" "+a.getHours()+":"+a.getMinutes()+":"+a.getSeconds()}}),l),c=n(22),v={name:"simpleFund",props:["account"],data:function(){return{fav:!0,menu:!1,message:!1,hints:!0,amount:0,proccLocked:!1,progress:{rawtx:null,tx:null,confirmed:null}}},computed:{valueDeterminate:function(){var t=0;return this.progress.rawtx&&(t+=35),this.progress.tx&&(t+=35),this.progress.confirmed&&(t+=30),t}},methods:{fund:function(){var t=this;this.amount>0&&(this.proccLocked=!0,this.$axios.post("/_v1-a/rawtx",{toAddress:this.account.Address,amount:this.amount}).then(function(e){var n=e.data.object;console.log("rawtx",n),t.progress.rawtx=n,t.$axios.post("/_v1-a/create_tx",n).then(function(e){var n=e.data.object;console.log("tx",n),t.progress.tx=n,t.$axios.get("/_v1-a/confirm_tx/"+n.id).then(function(e){var n=e.data.object;console.log("confirmed",n),t.progress.confirmed=n,setTimeout(t.doneOrCancel,1e3)})})}))},doneOrCancel:function(){this.menu=!1,this.amount=0,this.proccLocked=!1,this.progress={rawtx:null,tx:null,confirmed:null}}}},d={name:"user",props:["user"],components:{Txs:Object(c.a)(o,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-data-table",{staticClass:"elevation-1",attrs:{dark:!t.light,headers:t.headers,items:t.txs},scopedSlots:t._u([{key:"items",fn:function(e){return[n("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.id))]),t._v(" "),t.isBase(e.item.fromAddress)?n("td",{staticClass:"text-xs-right"},[n("span",{staticClass:"orange"},[t._v("( OUT )")]),t._v(" "),n("b",[t._v(t._s(e.item.fromAddress))])]):n("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.fromAddress))]),t._v(" "),t.isBase(e.item.toAddress)?n("td",{staticClass:"text-xs-right"},[n("span",{staticClass:"green"},[t._v("( IN )")]),t._v(" "),n("b",[t._v(t._s(e.item.toAddress))])]):n("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.toAddress))]),t._v(" "),n("td",{staticClass:"text-xs-right"},[t._v(t._s(t.toDate(e.item.createdAt)))]),t._v(" "),n("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.amount))]),t._v(" "),n("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.reason))]),t._v(" "),n("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.status))])]}}])})],1)},[],!1,null,"dd1c1e6e",null).exports,SimpleFund:Object(c.a)(v,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"text-xs-left"},[n("v-menu",{attrs:{"close-on-content-click":!1,"nudge-width":200,"offset-x":""},scopedSlots:t._u([{key:"activator",fn:function(data){return[n("v-btn",t._g({staticClass:"ma-0",attrs:{color:"indigo",dark:""}},data.on),[t._v("\n        Пополнение\n      ")])]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[t._v(" "),n("v-card",[n("v-list",[n("v-list-tile",{attrs:{avatar:""}},[n("v-list-tile-avatar",[n("v-icon",[t._v("shopping_cart")])],1),t._v(" "),n("v-list-tile-content",[n("v-list-tile-title",[t._v("Давайте пополним счет!")]),t._v(" "),n("v-list-tile-sub-title",[t._v(t._s(t.account.Address))])],1),t._v(" "),n("v-list-tile-action",[n("v-btn",{class:t.fav?"red--text":"",attrs:{icon:""},on:{click:function(e){t.fav=!t.fav}}},[n("v-icon",[t._v("favorite")])],1)],1)],1)],1),t._v(" "),n("v-divider"),t._v(" "),n("v-list",[n("v-list-tile",[n("v-list-tile-avatar",[t._v("Сумма")]),t._v(" "),n("v-spacer"),t._v(" "),n("v-flex",{staticClass:"text-xs-right",attrs:{md8:""}},[n("v-text-field",{attrs:{suffix:t.account.currency.symbol,type:"number",label:"Amount"},model:{value:t.amount,callback:function(e){t.amount=e},expression:"amount"}})],1),t._v(" "),n("v-list-tile-action")],1)],1),t._v(" "),t.proccLocked?n("v-list",[n("v-layout",{attrs:{row:""}},[n("v-progress-linear",{model:{value:t.valueDeterminate,callback:function(e){t.valueDeterminate=e},expression:"valueDeterminate"}})],1),t._v(" "),n("v-list-tile",[t.proccLocked?n("v-list-tile-content",[t._v("Понимание > ")]):t._e(),t._v(" "),t.progress.rawtx?n("v-list-tile-content",[t._v("Сохранение > ")]):t._e(),t._v(" "),t.progress.tx?n("v-list-tile-content",[t._v("Подтверждение > ")]):t._e(),t._v(" "),t.progress.confirmed?n("v-list-tile-content",[t._v("Готово!")]):t._e()],1)],1):t._e(),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),n("v-btn",{staticClass:"text-none",attrs:{flat:""},on:{click:t.doneOrCancel}},[t._v("Не надо")]),t._v(" "),n("v-btn",{attrs:{color:"primary",flat:""},on:{click:t.fund}},[t._v("Давай")])],1)],1)],1)],1)},[],!1,null,"84fd6eae",null).exports},computed:{accounts:function(){var t=this;return this.$store.state.objects.WsAccounts.filter(function(e){return e.account.ownerId===t.user.id})}},data:function(){return{notifications:!1,sound:!0,widgets:!1}},methods:{addrTxs:function(t){return this.$store.state.objects.txs.filter(function(e){return e.fromAddress===t||e.toAddress===t})},toDate:function(t){var a=new Date(1e3*t),e=a.getFullYear(),n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][a.getMonth()];return a.getDate()+" "+n+" "+e+" "+a.getHours()+":"+a.getMinutes()+":"+a.getSeconds()}}},_={name:"users",components:{User:Object(c.a)(d,function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.user?n("div",{staticClass:"pa-2"},[n("h3",[t._v("Имя: "+t._s(t.user.name))]),t._v(" "),n("h3",[t._v("ИД: "+t._s(t.user.id))]),t._v(" "),n("v-list",[n("v-subheader",[t._v("Счета")]),t._v(" "),t._l(t.accounts,function(e){return n("v-list-group",{key:e.account.id,attrs:{"prepend-icon":"settings_ethernet","no-action":""},scopedSlots:t._u([{key:"activator",fn:function(){return[n("v-list-tile",[n("v-list-tile-content",[n("v-list-tile-title",[t._v(t._s(e.account.currency.name))])],1)],1)]},proxy:!0}])},[t._v(" "),n("v-list-tile",{staticClass:"pa-3"},[n("v-list-tile-content",{staticClass:"text-xs-left"},[n("v-list-tile-title",[t._v("Валюта ")]),t._v(" "),n("v-list-tile-sub-title",[t._v(t._s(e.account.currency.name)+" ("+t._s(e.account.currency.symbol)+")")])],1),t._v(" "),n("v-list-tile-content",[n("v-list-tile-title",[t._v("Зарегистрирован")]),t._v(" "),n("v-list-tile-sub-title",[t._v(t._s(t.toDate(e.account.createdAt)))])],1),t._v(" "),n("v-list-tile-content",[n("v-list-tile-title",[t._v("Адрес")]),t._v(" "),n("v-list-tile-sub-title",[t._v(t._s(e.account.Address))])],1)],1),t._v(" "),n("v-list-tile",{staticClass:"pa-3"},[n("v-list-tile-content",[n("v-list-tile-title",[t._v("Баланс")]),t._v(" "),n("v-list-tile-sub-title",[t._v("По счету. Ед:")])],1),t._v(" "),n("v-list-tile-content",[n("v-list-tile-title",[t._v("Доступно")]),t._v(" "),n("v-list-tile-sub-title",[t._v(t._s(e.balance.available))])],1),t._v(" "),n("v-list-tile-content",[n("v-list-tile-title",[t._v("Заблокировано")]),t._v(" "),n("v-list-tile-sub-title",[t._v(t._s(e.balance.locked))])],1)],1),t._v(" "),n("v-list-tile",{staticClass:"pa-3"},[n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{md3:""}},[n("SimpleFund",{attrs:{account:e.account}})],1)],1)],1),t._v(" "),n("Txs",{attrs:{txs:t.addrTxs(e.account.Address),base:e.account.Address}})],1)})],2),t._v(" "),n("v-list",{attrs:{"three-line":"",subheader:""}},[n("v-subheader",[t._v("Не используется")]),t._v(" "),n("v-list-tile",{attrs:{avatar:""}},[n("v-list-tile-action",[n("v-checkbox",{model:{value:t.notifications,callback:function(e){t.notifications=e},expression:"notifications"}})],1),t._v(" "),n("v-list-tile-content",[n("v-list-tile-title",[t._v("Notifications")]),t._v(" "),n("v-list-tile-sub-title",[t._v("Notify me about updates to apps or games that I downloaded")])],1)],1),t._v(" "),n("v-list-tile",{attrs:{avatar:""}},[n("v-list-tile-action",[n("v-checkbox",{model:{value:t.sound,callback:function(e){t.sound=e},expression:"sound"}})],1),t._v(" "),n("v-list-tile-content",[n("v-list-tile-title",[t._v("Sound")]),t._v(" "),n("v-list-tile-sub-title",[t._v("Auto-update apps at any time. Data charges may apply")])],1)],1),t._v(" "),n("v-list-tile",{attrs:{avatar:""}},[n("v-list-tile-action",[n("v-checkbox",{model:{value:t.widgets,callback:function(e){t.widgets=e},expression:"widgets"}})],1),t._v(" "),n("v-list-tile-content",[n("v-list-tile-title",[t._v("Auto-add widgets")]),t._v(" "),n("v-list-tile-sub-title",[t._v("Automatically add home screen widgets")])],1)],1)],1)],1):t._e()},[],!1,null,"8dd1fd82",null).exports},data:function(){return{dialog:!1,current:null}},computed:{users:function(){return this.$store.state.objects.users}},methods:{loadDialog:function(t){this.current=null,this.current=t,this.dialog=!0}}},m=Object(c.a)(_,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{staticClass:"pa-0",attrs:{container:"",fluid:""}},[t._l(t.users,function(u,i){return n("v-card",{key:i,staticClass:"mb-3"},[n("v-card-title",{staticClass:"grey white--text"},[n("v-flex",{attrs:{md3:""}},[n("span",{staticClass:"title"},[t._v("Пользователь")])]),t._v(" "),n("v-spacer"),t._v(" "),n("v-flex",[n("p",{staticClass:"text-xs-right ma-0"},[n("span",{staticClass:"title"},[n("b",[t._v(t._s(u.id))])])])])],1),t._v(" "),n("v-card-text",[n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{md10:""}},[n("ul",[n("li",[t._v("\n              Name: "+t._s(u.name)+"\n            ")]),t._v(" "),n("li",[t._v("\n              Email: "+t._s(u.email)+"\n            ")])])]),t._v(" "),n("v-flex",{attrs:{md2:""}},[n("p",{staticClass:"text-xs-right"},[n("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.loadDialog(u)}}},[t._v("Открыть")])],1)])],1)],1)],1)}),t._v(" "),n("v-layout",{attrs:{row:"","justify-center":""}},[n("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[n("v-card",[n("v-toolbar",{attrs:{dark:"",color:"primary"}},[n("v-btn",{attrs:{icon:"",dark:""},on:{click:function(e){t.dialog=!1}}},[n("v-icon",[t._v("close")])],1),t._v(" "),n("v-toolbar-title",[t._v("Характеристика")]),t._v(" "),n("v-spacer"),t._v(" "),n("v-toolbar-items",[n("v-btn",{attrs:{dark:"",flat:""},on:{click:function(e){t.dialog=!1}}},[t._v("Применить")])],1)],1),t._v(" "),n("User",{attrs:{user:t.current}})],1)],1)],1)],2)},[],!1,null,"3b24014f",null);e.default=m.exports}}]);